---
import Section from "./Section.astro";

const title = "Servicios";
const subtitle = "Agendar un servicio";
---

<Section title={title} subtitle={subtitle} color="white" id="servicios">
  <!-- Contenedor principal con fondo e imagen -->
  <div class="relative bg-[#13151a] text-white py-16">
    <!-- Imagen de fondo con opacidad -->
    <img
      id="bg-image-modely"
      src="../public/Servicios.jpg"
      alt="Background Servicios"
      class="absolute inset-0 z-0 object-cover w-full h-full pointer-events-none opacity-10"
    />
    <!-- Contenido de la sección -->
    <div class="relative z-10 px-8 mx-auto max-w-7xl">
      <!-- Título y subtítulo -->
      <h2 class="text-3xl font-bold text-center">{title}</h2>
      <p class="mt-4 text-lg text-center text-gray-300">{subtitle}</p>

      <!-- Videos -->
      <div class="grid grid-cols-1 gap-8 mt-12 md:grid-cols-2">
        <!-- Video 1 -->
        <div class="overflow-hidden rounded-lg shadow-lg">
          <video class="w-full h-auto" controls>
            <source src="../public/Exterior.mp4" type="video/mp4" />
          </video>
          <p class="mt-4 text-center text-white">Servicio Exterior</p>
        </div>

        <!-- Video 2 -->
        <div class="overflow-hidden rounded-lg shadow-lg">
          <video class="w-full h-auto" controls>
            <source src="../public/Interior.mp4" type="video/mp4" />
          </video>
          <p class="mt-4 text-center text-white">Servicio Interior</p>
        </div>
      </div>

      <!-- Foto antes y después -->
      <div class="relative mt-12 overflow-hidden rounded-lg shadow-lg group">
        <!-- Foto inicial (antes) -->
        <img
          src="../public/Antes.jpeg"
          alt="Antes del servicio"
          class="object-cover w-full h-auto transition-opacity duration-300 group-hover:opacity-0"
        />
        <!-- Foto al pasar el cursor (después) -->
        <img
          src="../public/Despues.jpeg"
          alt="Después del servicio"
          class="absolute top-0 left-0 object-cover w-full h-auto transition-opacity duration-300 opacity-0 group-hover:opacity-100"
        />
        <p class="mt-4 text-center text-white">Servicio Completo</p>
      </div>

      <!-- Botones -->
      <div class="flex justify-center mx-auto mt-12 gap-x-6">
        <a
          class="inline-flex items-center justify-center px-12 py-2 text-sm font-medium text-white transition-colors rounded bg-cyan-700 hover:bg-slate-400 hover:text-white"
          href="#"
        >
          Agendar
        </a>
        <a
          class="inline-flex items-center justify-center px-12 py-2 text-sm font-medium text-black transition-colors bg-white rounded hover:bg-slate-900 hover:text-white"
          href="#"
        >
          Precios
        </a>
      </div>
    </div>
  </div>
</Section>

<script>
  function isEdge() {
    if (
      navigator.userAgent.indexOf("Edge") > -1 ||
      navigator.userAgent.indexOf("Edg") > -1
    ) {
      return true;
    } else {
      return false;
    }
  }

  let imageElement = document.querySelector(
    "#bg-image-modely"
  ) as HTMLImageElement;

  if (isEdge()) {
    imageElement.src = "../public/Servicios.jpg";
  } else {
    imageElement.src = "../public/Servicios.webp";
  }
</script>
